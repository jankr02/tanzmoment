@if (showSplash()) {
<tm-splash-screen
  [config]="splashConfig"
  [svgPath]="'assets/images/intro-sequence-animated.svg'"
  (completed)="onSplashCompleted($event)"
  (progressChange)="onSplashProgressChange($event)"
/>
}

@if (!showSplash()) {
<div class="landing-page" [@fadeIn]>
  <main class="landing-page__main">
    @if (showHero()) {
    <section class="landing-page__hero">
      <tm-hero-gallery (ready)="onHeroReady()" (error)="onHeroError($event)" />

      <!-- Wave Divider (inside hero for correct positioning) -->
      <div class="landing-page__wave" aria-hidden="true">
        <svg
          viewBox="0 0 1140 100"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="none"
        >
          <path
            d="M0 48C289 90 782.5 0 1140 59V100H0V48Z"
            fill="var(--color-neutral-xl, #fcf3f3)"
          />
        </svg>

      </div>
    </section>
    }

    <!-- Introduction Section -->
    @if (showHero()) {
      <tm-landing-intro-section [data]="introData()" />
    }

    <!-- Features Section -->
    <section class="landing-page__features">
      <h2 class="features-title">Was dich bei Tanzmoment erwartet</h2>

      <!-- Features Loading State (Skeleton) -->
      @if (featuresLoading()) {
      <tm-skeleton-feature-grid />
      }

      <!-- Features Error State (with Retry) -->
      @else if (featuresError()) {
      <div class="features-error">
        <div class="features-error__content">
          <svg
            class="features-error__icon"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="2"
            />
            <line
              x1="12"
              y1="8"
              x2="12"
              y2="12"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <circle cx="12" cy="16" r="1" fill="currentColor" />
          </svg>

          <p class="features-error__message">
            Die Features konnten nicht geladen werden.
          </p>

          <button
            class="features-error__retry"
            (click)="retryFeatures()"
            type="button"
          >
            Erneut versuchen
          </button>
        </div>
      </div>
      }

      <!-- Features Ready State (Actual Content) -->
      @else if (showFeatures()) {
      <tm-feature-navigation />
      }

      <!-- Features Idle State (shouldn't normally be visible) -->
      @else {
      <tm-skeleton-feature-grid />
      }
    </section>
  </main>
</div>
}
